"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const jwtAuth_1 = require("../middleware/jwtAuth");
const messagecontroller_1 = require("../controller/messagecontroller");
const formidable_1 = require("../middleware/formidable");
const router = (0, express_1.Router)();
router.get("/searchChat/:searchTerm", jwtAuth_1.authenticateToken, messagecontroller_1.searchChat);
router.get("/:chatId/messages", jwtAuth_1.authenticateToken, messagecontroller_1.getChatMessages);
router.post("/sendMessage", formidable_1.fileparser, jwtAuth_1.authenticateToken, messagecontroller_1.sendMessage);
router.post("/createOrGetChat", jwtAuth_1.authenticateToken, messagecontroller_1.createOrGetChat);
router.get("/chat/:chatId/messages", jwtAuth_1.authenticateToken, messagecontroller_1.getMessagesByChatId);
router.get("/getUserChats", jwtAuth_1.authenticateToken, messagecontroller_1.chats);
router.post("/createGroupChat", jwtAuth_1.authenticateToken, messagecontroller_1.createGroupChat);
router.get("/group/:chatId/details", jwtAuth_1.authenticateToken, messagecontroller_1.getGroupDetails);
router.delete("/group/:chatId/leave", jwtAuth_1.authenticateToken, messagecontroller_1.leaveGroup);
router.put("/group/:groupId/makeAdmin", jwtAuth_1.authenticateToken, messagecontroller_1.makeAdmin);
router.put('/group/:groupId/removeParticipant', jwtAuth_1.authenticateToken, messagecontroller_1.removeParticipant);
router.put('/group/:groupId/addParticipant', jwtAuth_1.authenticateToken, messagecontroller_1.addParticipant);
router.get('/searchUsers/:searchTerm', jwtAuth_1.authenticateToken, messagecontroller_1.searchUsers);
exports.default = router;
